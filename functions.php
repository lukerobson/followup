<?php
$LAT = $lat;
date_default_timezone_set('UTC');
########################################################################
function deltamag ($mtarget,$airmass,$exptimehigh){
		$mpirme = (1.0023 * $mtarget)-20.2122-(0.62*(1-$airmass));
		$upper = $mpirme*(-2/5);
		$Nt = $exptimehigh *((pow(10,$upper)));
		$delsqu1 = ((6.37)*6.37) + (pow((0.0028*$exptimehigh),2)) + (pow((0.00211* $Nt),2));
		$delsqu2 = $Nt + ($exptimehigh*( 0.992 + (0.00600763*$exptimehigh)));
		$delsqu3 = pow($Nt*(0.00731301*((pow($airmass,(7/4)))*(pow((2*$exptimehigh),(-0.5))))),2);
		$delsqu = $delsqu3 + $delsqu2 + $delsqu1;
		$del = (pow($delsqu,0.5));
		$inlog = 1 + ($del / $Nt);
		$deltotaltargetmag =2.5*log10($inlog);
		$delmag =  $deltotaltargetmag;	
		return $delmag;
	} 
#########################################################################
function airmasscal ($ALTstar){
		$ALTZ = (90 - $ALTstar);
		$cosz = COS($ALTZ*0.0174533);
		$cos11z=0.025*exp(-11*$cosz);
		$cosall = $cosz + $cos11z;
		$airmassalt = (1/$cosall);
		return $airmassalt;
	}
##################################################################
function altitude($pick,$time,$long,$lat) {
		$RA = $pick[2];
		$DEC = $pick[3];
        
		$LAT = $lat;
		$j2000 = 946728000;
		$dif = $time - $j2000 ;
		$dif2 = $dif /(86400);
		$hour = gmdate("H", $time);
		$min = gmdate("i", $time);
		$hourtime = ($hour + ($min/60))*15;
		$difft = 0.985647 * $dif2;
		$LST = 100.46 + ($difft) + $long + $hourtime;
		$HA = $LST - $RA;
		$pi180 = 0.01745329252;
		$sALT = sin(($DEC*$pi180))*sin(($LAT*$pi180))+cos(($DEC*$pi180))*cos(($LAT*$pi180))*cos(($HA*$pi180));
		$ALT = asin($sALT);
		$ALT = $ALT/$pi180;
		return $ALT;
    }
################################################################
function elevation($pick,$time,$arry,$long,$lat) {
		$RA = $pick[2];
		$DEC = $pick[3];
        
		$LAT = $lat;
		$j2000 = 946728000;
		$dif = $time - $j2000 ;
		$dif2 = $dif /(86400);
		$hour = gmdate("H", $time);
		$min = gmdate("i", $time);
		$hourtime = ($hour + ($min/60))*15;
		$difft = 0.985647 * $dif2;
		$LST = 100.46 + ($difft) + $long + $hourtime;
		$HA = $LST - $RA;
		$pi180 = 0.01745329252;
		$sALT = sin(($DEC*$pi180))*sin(($LAT*$pi180))+cos(($DEC*$pi180))*cos(($LAT*$pi180))*cos(($HA*$pi180));
		$ALT = asin($sALT);
		$ALT = $ALT/$pi180;
		
		
		$cosA = (sin($DEC*$pi180)-(sin($ALT*$pi180)*sin($LAT*$pi180)))/(cos($ALT*$pi180)*cos($LAT*$pi180));
		$A = acos($cosA);
		If ((sin($HA)) < 0){ 
		$AZ = $A/$pi180;
		}else{
		$AZ = 360 - ($A/$pi180);
		}
		$horizons = $telecpickarr[0];
		
		$AZr = round($AZ*2);
		
		$elevation = $horizons[$AZr];
		
		return $elevation;
}
	########################################
#################################################################
function peakccd ($objmag,$airmass,$exotime,$arry,$equation){
	
	$idark = $arry[25];
	$temp = $arry[22];
	$tref = $arry[23];
	$ddouble = $arry[24];
		
	$bgcountexp = $arry[12];
	$k = $arry[18];
	$seeing = $arry[17];
	$pxsize = $arry[16];
	$binning = $arry[5];
	$flength = $arry[14];
	$scale = $pxsize*$binning / ($flength/ 206264.8062 ) / 1000;
	$pedestal=70;
		
		
	$first = ($equation[0] *$objmag);
	$third = -($equation[2]*(1-$airmass));
	$tot = $first + $equation[1] + $third;
	$power = $tot*(-2/5);
	$objcount = $exotime *((pow(10,$power)));

		
	$unbinned_dark_current = $pxsize*$pxsize * ($idark/ 16.022) * exp( 0.69315 * ($temp -$tref) / $ddouble);
	$dark_current = $unbinned_dark_current*$binning*$binning;
	$seeingpx = $seeing/ $scale;
	
	$bgcount =($bgcountexp*$exotime)+$pedestal;	
	$peakval = ($objcount / (2*3.14159265*(0.51*$seeingpx)*(0.51*$seeingpx)))+$bgcount;
	$peakval = intval($peakval);
	return $peakval;
		}
##############################################################
function telecopepick($telescope,$filter,$camera){
	# Zero magnitude flux for each telescope 
	$type = $telescope . $filter;
	$telecpickarr = array();
	$error = 0;
	switch ($telescope) {
	case "ckt" :
	
		$horizons= array(40.9,40.899,40.897,40.896,40.894,40.89,40.886,40.881,40.877,40.87,40.862,40.855,40.848,40.838,40.828,40.818,40.808,40.795,40.782,40.769,40.756,40.74,40.724,40.708,40.692,40.674,40.655,40.636,40.618,40.596,40.575,40.553,40.532,40.508,40.484,40.459,40.435,40.408,40.381,40.354,40.327,40.297,40.268,40.238,40.208,40.176,40.143,40.111,40.079,40.044,40.009,39.974,39.939,39.901,39.863,39.826,39.788,39.748,39.708,39.667,39.627,39.585,39.542,39.499,39.456,39.411,39.366,39.321,39.276,39.228,39.181,39.133,39.086,39.036,38.986,38.936,38.886,38.834,38.782,38.73,38.677,38.623,38.569,38.514,38.46,38.403,38.347,38.29,38.234,38.175,38.116,38.058,37.999,37.939,37.878,37.817,37.757,37.694,37.632,37.569,37.506,37.442,37.378,37.313,37.249,37.183,37.116,37.05,36.984,36.916,36.848,36.78,36.712,36.643,36.573,36.504,36.434,36.363,36.292,36.221,36.15,36.077,36.005,35.932,35.86,35.786,35.712,35.638,35.565,35.489,35.414,35.339,35.264,35.188,35.111,35.035,34.959,34.881,34.804,34.727,34.649,34.571,34.492,34.414,34.336,34.256,34.177,34.098,34.019,33.938,33.858,33.778,33.698,33.617,33.537,33.456,33.375,33.294,33.212,33.131,33.05,32.968,32.886,32.804,32.722,32.64,32.558,32.475,32.393,32.31,32.228,32.145,32.063,31.98,31.897,31.814,31.732,31.649,31.566,31.483,31.4,31.317,31.234,31.151,31.068,30.986,30.903,30.82,30.737,30.655,30.572,30.49,30.407,30.325,30.242,30.16,30.078,29.996,29.914,29.832,29.75,29.669,29.588,29.506,29.425,29.344,29.263,29.183,29.102,29.022,28.942,28.862,28.781,28.702,28.623,28.544,28.464,28.386,28.308,28.229,28.151,28.073,27.996,27.919,27.841,27.765,27.689,27.612,27.536,27.461,27.386,27.311,27.235,27.162,27.088,27.014,26.94,26.868,26.795,26.723,26.65,26.579,26.508,26.437,26.366,26.296,26.227,26.157,26.088,26.02,25.952,25.884,25.816,25.75,25.684,25.617,25.551,25.487,25.422,25.358,25.294,25.231,25.168,25.106,25.043,24.983,24.922,24.861,24.801,24.742,24.684,24.625,24.566,24.51,24.453,24.397,24.34,24.286,24.231,24.177,24.123,24.07,24.018,23.966,23.914,23.864,23.814,23.764,23.714,23.667,23.619,23.572,23.524,23.479,23.434,23.389,23.344,23.301,23.258,23.215,23.173,23.133,23.092,23.052,23.012,22.974,22.937,22.899,22.861,22.826,22.791,22.756,22.721,22.689,22.657,22.624,22.592,22.562,22.532,22.503,22.473,22.446,22.419,22.392,22.365,22.341,22.316,22.292,22.268,22.247,22.225,22.204,22.182,22.164,22.145,22.126,22.108,22.092,22.076,22.06,22.044,22.031,22.018,22.005,21.992,21.982,21.972,21.962,21.952,21.945,21.938,21.93,21.923,21.919,21.914,21.91,21.906,21.904,21.903,21.901,21.9,21.901,21.903,21.904,21.906,21.91,21.914,21.919,21.923,21.93,21.938,21.945,21.952,21.962,21.972,21.982,21.992,22.005,22.018,22.031,22.044,22.06,22.076,22.092,22.108,22.126,22.145,22.164,22.182,22.204,22.225,22.247,22.268,22.292,22.316,22.341,22.365,22.392,22.419,22.446,22.473,22.503,22.532,22.562,22.592,22.624,22.657,22.689,22.721,22.756,22.791,22.826,22.861,22.899,22.937,22.974,23.012,23.052,23.092,23.133,23.173,23.215,23.258,23.301,23.344,23.389,23.434,23.479,23.524,23.572,23.619,23.667,23.714,23.764,23.814,23.864,23.914,23.966,24.018,24.07,24.123,24.177,24.231,24.286,24.34,24.397,24.453,24.51,24.566,24.625,24.684,24.742,24.801,24.861,24.922,24.983,25.043,25.106,25.168,25.231,25.294,25.358,25.422,25.487,25.551,25.617,25.684,25.75,25.816,25.884,25.952,26.02,26.088,26.157,26.227,26.296,26.366,26.437,26.508,26.579,26.65,26.723,26.795,26.868,26.94,27.014,27.088,27.162,27.235,27.311,27.386,27.461,27.536,27.612,27.689,27.765,27.841,27.919,27.996,28.073,28.151,28.229,28.308,28.386,28.464,28.544,28.623,28.702,28.781,28.862,28.942,29.022,29.102,29.183,29.263,29.344,29.425,29.506,29.588,29.669,29.75,29.832,29.914,29.996,30.078,30.16,30.242,30.325,30.407,30.49,30.572,30.655,30.737,30.82,30.903,30.986,31.068,31.151,31.234,31.317,31.4,31.483,31.566,31.649,31.732,31.814,31.897,31.98,32.063,32.145,32.228,32.31,32.393,32.475,32.558,32.64,32.722,32.804,32.886,32.968,33.05,33.131,33.212,33.294,33.375,33.456,33.537,33.617,33.698,33.778,33.858,33.938,34.019,34.098,34.177,34.256,34.336,34.414,34.492,34.571,34.649,34.727,34.804,34.881,34.959,35.035,35.111,35.188,35.264,35.339,35.414,35.489,35.565,35.638,35.712,35.786,35.86,35.932,36.005,36.077,36.15,36.221,36.292,36.363,36.434,36.504,36.573,36.643,36.712,36.78,36.848,36.916,36.984,37.05,37.116,37.183,37.249,37.313,37.378,37.442,37.506,37.569,37.632,37.694,37.757,37.817,37.878,37.939,37.999,38.058,38.116,38.175,38.234,38.29,38.347,38.403,38.46,38.514,38.569,38.623,38.677,38.73,38.782,38.834,38.886,38.936,38.986,39.036,39.086,39.133,39.181,39.228,39.276,39.321,39.366,39.411,39.456,39.499,39.542,39.585,39.627,39.667,39.708,39.748,39.788,39.826,39.863,39.901,39.939,39.974,40.009,40.044,40.079,40.111,40.143,40.176,40.208,40.238,40.268,40.297,40.327,40.354,40.381,40.408,40.435,40.459,40.484,40.508,40.532,40.553,40.575,40.596,40.618,40.636,40.655,40.674,40.692,40.708,40.724,40.74,40.756,40.769,40.782,40.795,40.808,40.818,40.828,40.838,40.848,40.855,40.862,40.87,40.877,40.881,40.886,40.89,40.894,40.896,40.897,40.899);
		break;
	case "rpt" :
		$horizons= array(35.985,35.987,35.99,35.992,35.995,35.996,35.997,35.998,35.999,35.999,35.999,35.999,35.999,35.998,35.997,35.996,35.995,35.992,35.99,35.987,35.985,35.981,35.977,35.974,35.97,35.965,35.96,35.956,35.951,35.945,35.939,35.933,35.927,35.919,35.912,35.905,35.897,35.889,35.881,35.872,35.864,35.854,35.844,35.835,35.825,35.814,35.804,35.793,35.782,35.77,35.758,35.746,35.734,35.721,35.708,35.695,35.682,35.668,35.654,35.639,35.625,35.61,35.595,35.579,35.564,35.548,35.531,35.515,35.498,35.481,35.464,35.446,35.429,35.41,35.392,35.373,35.355,35.335,35.316,35.296,35.277,35.256,35.236,35.215,35.195,35.173,35.152,35.13,35.109,35.086,35.064,35.041,35.019,34.995,34.972,34.949,34.925,34.901,34.877,34.853,34.828,34.803,34.778,34.753,34.728,34.702,34.676,34.65,34.624,34.597,34.571,34.544,34.517,34.49,34.462,34.435,34.407,34.379,34.351,34.323,34.294,34.265,34.236,34.207,34.179,34.149,34.119,34.09,34.06,34.03,34.,33.969,33.939,33.908,33.878,33.847,33.816,33.785,33.753,33.722,33.69,33.659,33.627,33.595,33.563,33.531,33.498,33.466,33.433,33.401,33.368,33.335,33.302,33.269,33.236,33.203,33.169,33.136,33.102,33.069,33.035,33.001,32.968,32.934,32.9,32.866,32.832,32.797,32.763,32.729,32.694,32.66,32.626,32.591,32.557,32.522,32.487,32.453,32.418,32.383,32.349,32.314,32.279,32.244,32.209,32.174,32.14,32.105,32.07,32.035,32.,31.965,31.93,31.895,31.86,31.826,31.791,31.756,31.721,31.686,31.651,31.617,31.582,31.547,31.513,31.478,31.443,31.409,31.374,31.34,31.306,31.271,31.237,31.203,31.168,31.134,31.1,31.066,31.032,30.999,30.965,30.931,30.898,30.864,30.831,30.797,30.764,30.731,30.698,30.665,30.632,30.599,30.567,30.534,30.502,30.469,30.437,30.405,30.373,30.341,30.31,30.278,30.247,30.215,30.184,30.153,30.122,30.092,30.061,30.031,30.,29.97,29.94,29.91,29.881,29.851,29.821,29.793,29.764,29.735,29.706,29.677,29.649,29.621,29.593,29.565,29.538,29.51,29.483,29.456,29.429,29.403,29.376,29.35,29.324,29.298,29.272,29.247,29.222,29.197,29.172,29.147,29.123,29.099,29.075,29.051,29.028,29.005,28.981,28.959,28.936,28.914,28.891,28.87,28.848,28.827,28.805,28.785,28.764,28.744,28.723,28.704,28.684,28.665,28.645,28.627,28.608,28.59,28.571,28.554,28.536,28.519,28.502,28.485,28.469,28.452,28.436,28.421,28.405,28.39,28.375,28.361,28.346,28.332,28.318,28.305,28.292,28.279,28.266,28.254,28.242,28.23,28.218,28.207,28.196,28.186,28.175,28.165,28.156,28.146,28.136,28.128,28.119,28.111,28.103,28.095,28.088,28.081,28.073,28.067,28.061,28.055,28.049,28.044,28.04,28.035,28.03,28.026,28.023,28.019,28.015,28.013,28.01,28.008,28.005,28.004,28.003,28.002,28.001,28.001,28.001,28.001,28.001,28.002,28.003,28.004,28.005,28.008,28.01,28.013,28.015,28.019,28.023,28.026,28.03,28.035,28.04,28.044,28.049,28.055,28.061,28.067,28.073,28.081,28.088,28.095,28.103,28.111,28.119,28.128,28.136,28.146,28.156,28.165,28.175,28.186,28.196,28.207,28.218,28.23,28.242,28.254,28.266,28.279,28.292,28.305,28.318,28.332,28.346,28.361,28.375,28.39,28.405,28.421,28.436,28.452,28.469,28.485,28.502,28.519,28.536,28.554,28.571,28.59,28.608,28.627,28.645,28.665,28.684,28.704,28.723,28.744,28.764,28.785,28.805,28.827,28.848,28.87,28.891,28.914,28.936,28.959,28.981,29.005,29.028,29.051,29.075,29.099,29.123,29.147,29.172,29.197,29.222,29.247,29.272,29.298,29.324,29.35,29.376,29.403,29.429,29.456,29.483,29.51,29.538,29.565,29.593,29.621,29.649,29.677,29.706,29.735,29.764,29.793,29.821,29.851,29.881,29.91,29.94,29.97,30.,30.031,30.061,30.092,30.122,30.153,30.184,30.215,30.247,30.278,30.31,30.341,30.373,30.405,30.437,30.469,30.502,30.534,30.567,30.599,30.632,30.665,30.698,30.731,30.764,30.797,30.831,30.864,30.898,30.931,30.965,30.999,31.032,31.066,31.1,31.134,31.168,31.203,31.237,31.271,31.306,31.34,31.374,31.409,31.443,31.478,31.513,31.547,31.582,31.617,31.651,31.686,31.721,31.756,31.791,31.826,31.86,31.895,31.93,31.965,32.,32.035,32.07,32.105,32.14,32.174,32.209,32.244,32.279,32.314,32.349,32.383,32.418,32.453,32.487,32.522,32.557,32.591,32.626,32.66,32.694,32.729,32.763,32.797,32.832,32.866,32.9,32.934,32.968,33.001,33.035,33.069,33.102,33.136,33.169,33.203,33.236,33.269,33.302,33.335,33.368,33.401,33.433,33.466,33.498,33.531,33.563,33.595,33.627,33.659,33.69,33.722,33.753,33.785,33.816,33.847,33.878,33.908,33.939,33.969,34.,34.03,34.06,34.09,34.119,34.149,34.179,34.207,34.236,34.265,34.294,34.323,34.351,34.379,34.407,34.435,34.462,34.49,34.517,34.544,34.571,34.597,34.624,34.65,34.676,34.702,34.728,34.753,34.778,34.803,34.828,34.853,34.877,34.901,34.925,34.949,34.972,34.995,35.019,35.041,35.064,35.086,35.109,35.13,35.152,35.173,35.195,35.215,35.236,35.256,35.277,35.296,35.316,35.335,35.355,35.373,35.392,35.41,35.429,35.446,35.464,35.481,35.498,35.515,35.531,35.548,35.564,35.579,35.595,35.61,35.625,35.639,35.654,35.668,35.682,35.695,35.708,35.721,35.734,35.746,35.758,35.77,35.782,35.793,35.804,35.814,35.825,35.835,35.844,35.854,35.864,35.872,35.881,35.889,35.897,35.905,35.912,35.919,35.927,35.933,35.939,35.945,35.951,35.956,35.96,35.965,35.97,35.974,35.977,35.981);
		break;
	case "jht" :
		$horizons= array(28,27.85,27.7,27.55,27.4,27.3,27.2,27.1,27,26.9,26.8,26.7,26.6,26.5,26.4,26.3,26.2,26.1,26,25.9,25.8,25.7,25.6,25.5,25.4,25.325,25.25,25.175,25.1,25.025,24.95,24.875,24.8,24.7,24.6,24.5,24.4,24.325,24.25,24.175,24.1,24.05,24,23.95,23.9,23.825,23.75,23.675,23.6,23.55,23.5,23.45,23.4,23.325,23.25,23.175,23.1,23.05,23,22.95,22.9,22.85,22.8,22.75,22.7,22.675,22.65,22.625,22.6,22.55,22.5,22.45,22.4,22.375,22.35,22.325,22.3,22.275,22.25,22.225,22.2,22.175,22.15,22.125,22.1,22.075,22.05,22.025,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22.025,22.05,22.075,22.1,22.1,22.1,22.1,22.1,22.125,22.15,22.175,22.2,22.25,22.3,22.35,22.4,22.425,22.45,22.475,22.5,22.525,22.55,22.575,22.6,22.65,22.7,22.75,22.8,22.85,22.9,22.95,23,23.05,23.1,23.15,23.2,23.275,23.35,23.425,23.5,23.55,23.6,23.65,23.7,23.775,23.85,23.925,24,24.075,24.15,24.225,24.3,24.375,24.45,24.525,24.6,24.675,24.75,24.825,24.9,24.975,25.05,25.125,25.2,25.3,25.4,25.5,25.6,25.7,25.8,25.9,26,26.075,26.15,26.225,26.3,26.4,26.5,26.6,26.7,26.825,26.95,27.075,27.2,27.3,27.4,27.5,27.6,27.7,27.8,27.9,28,28.125,28.25,28.375,28.5,28.625,28.75,28.875,29,29.1,29.2,29.3,29.4,29.525,29.65,29.775,29.9,30.025,30.15,30.275,30.4,30.55,30.7,30.85,31,31.125,31.25,31.375,31.5,31.625,31.75,31.875,32,32.15,32.3,32.45,32.6,32.725,32.85,32.975,33.1,33.25,33.4,33.55,33.7,33.825,33.95,34.075,34.2,34.35,34.5,34.65,34.8,34.925,35.05,35.175,35.3,35.45,35.6,35.75,35.9,36.05,36.2,36.35,36.5,36.65,36.8,36.95,37.1,37.25,37.4,37.55,37.7,37.825,37.95,38.075,38.2,38.35,38.5,38.65,38.8,38.95,39.1,39.25,39.4,39.55,39.7,39.85,40,40.15,40.3,40.45,40.6,40.75,40.9,41.05,41.2,41.325,41.45,41.575,41.7,41.85,42,42.15,42.3,42.45,42.6,42.75,42.9,43.025,43.15,43.275,43.4,43.55,43.7,43.85,44,44.15,44.3,44.45,44.6,44.725,44.85,44.975,45.1,45.225,45.35,45.475,45.6,45.75,45.9,46.05,46.2,46.325,46.45,46.575,46.7,46.825,46.95,47.075,47.2,47.325,47.45,47.575,47.7,47.825,47.95,48.075,48.2,48.325,48.45,48.575,48.7,48.8,48.9,49,49.1,49.225,49.35,49.475,49.6,49.6,49.6,49.6,49.6,49.55,49.5,49.45,49.4,49.3,49.2,49.1,49,48.9,48.8,48.7,48.6,48.475,48.35,48.225,48.1,48,47.9,47.8,47.7,47.575,47.45,47.325,47.2,47.075,46.95,46.825,46.7,46.6,46.5,46.4,46.3,46.175,46.05,45.925,45.8,45.675,45.55,45.425,45.3,45.175,45.05,44.925,44.8,44.675,44.55,44.425,44.3,44.15,44,43.85,43.7,43.575,43.45,43.325,43.2,43.075,42.95,42.825,42.7,42.575,42.45,42.325,42.2,42.05,41.9,41.75,41.6,41.475,41.35,41.225,41.1,40.975,40.85,40.725,40.6,40.45,40.3,40.15,40,39.875,39.75,39.625,39.5,39.35,39.2,39.05,38.9,38.775,38.65,38.525,38.4,38.275,38.15,38.025,37.9,37.75,37.6,37.45,37.3,37.175,37.05,36.925,36.8,36.675,36.55,36.425,36.3,36.15,36,35.85,35.7,35.575,35.45,35.325,35.2,35.075,34.95,34.825,34.7,34.575,34.45,34.325,34.2,34.075,33.95,33.825,33.7,33.575,33.45,33.325,33.2,33.075,32.95,32.825,32.7,32.575,32.45,32.325,32.2,32.075,31.95,31.825,31.7,31.6,31.5,31.4,31.3,31.175,31.05,30.925,30.8,30.7,30.6,30.5,30.4,30.275,30.15,30.025,29.9,29.8,29.7,29.6,29.5,29.4,29.3,29.2,29.1,29,28.9,28.8,28.7,28.6,28.5,28.4,28.3,28.2,28.1,28,27.9,27.825,27.75,27.675,27.6,27.5,27.4,27.3,27.2,27.125,27.05,26.975,26.9,26.825,26.75,26.675,26.6,26.525,26.45,26.375,26.3,26.225,26.15,26.075,26,25.95,25.9,25.85,25.8,25.725,25.65,25.575,25.5,25.45,25.4,25.35,25.3,25.25,25.2,25.15,25.1,25.05,25,24.95,24.9,24.85,24.8,24.75,24.7,24.65,24.6,24.55,24.5,24.475,24.45,24.425,24.4,24.375,24.35,24.325,24.3,24.275,24.25,24.225,24.2,24.175,24.15,24.125,24.1,24.075,24.05,24.025,24,23.975,23.95,23.925,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.9,23.925,23.95,23.975,24,24,24,24,24,24.025,24.05,24.075,24.1,24.125,24.15,24.175,24.2,24.225,24.25,24.275,24.3,24.35,24.4,24.45,24.5,24.525,24.55,24.575,24.6,24.65,24.7,24.75,24.8,24.85,24.9,24.95,25,25.05,25.1,25.15,25.2,25.25,25.3,25.35,25.4,25.475,25.55,25.625,25.7,25.75,25.8,25.85,25.9,25.975,26.05,26.125,26.2,26.275,26.35,26.425,26.5,26.575,26.65,26.725,26.8,26.875,26.95,27.025,27.1,27.2,27.3,27.4,27.5,27.575,27.65,27.725,27.8,27.85,27.9,27.95,28,28,28,28);
		break;
	default:
	# if user attemps to load just php with out data then stops data showing
		$error = $error +1;
	}
	
	
	switch ($type) {# picks the zero flux of each filter of the telescope 
    case "cktv" :
        $flux0 = 166250433; # ckt v filter
        break;
	case "rptv" :
        $flux0 = 239905171; # rpt v filter
        break;
	case "jhtv" :
        $flux0 = 195644598; # jht v filter
        break;
		
	case "cktr" :
        $flux0 = 202657367; # ckt r filter
        break;
	case "rptr" :
        $flux0 = 244774604; # rpt r filter
        break;
	case "jhtr" :
        $flux0 = 223612910; # jht r filter
        break;
		
	case "cktb" :
        $flux0 = 143127809; # ckt b filter
        break;
	case "rptb" :
        $flux0 = 121502982; # rpt b filter
        break;
	case "jhtb" :
        $flux0 = 168618206; # jht b filter
        break;
		
	default:
	# if user attemps to load just php with out data then stops data showing
		$error = $error +1;
	}
	switch ($camera) {
	case "stl6303" :
		#scale = pxsize*binning / (flength/ 206264.8062 ) / 1000;
		$scale = 0.9136;
        $gains = 2.3; # for 2x2 bining
		$dark_current = 1;
        break;
	case "q49000" :
		$scale = 1.218;
        $gains = 1.7;# for 2x2 bining
		$dark_current = 0.55;
        break;
	default:
	# if user attemps to load just php with out data then stops data showing
		$error = $error +1;
	}
	array_push($telecpickarr,$horizons);
	array_push($telecpickarr,$flux0);
	array_push($telecpickarr,$scale);
	array_push($telecpickarr,$dark_current);
	array_push($telecpickarr,$gains);
	array_push($telecpickarr,$error);
	return $telecpickarr;
}
################################################
function dateare ($jdate){
	$j2000 = 946684800;# unix time on j2000 
	$jd2000= 2451544.5;# jd date of j2000
	$jdats = ($jdate-$jd2000)*60*60*24; # caculates the number of seconds between j2000 and the input date
	$times = $j2000 + $jdats;# adds the number of seconds from j2000 to the caculate the full unix time
	return $times;
}



?>